import { useState } from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { motion } from "framer-motion";

export default function PlannerDashboard() {
  const [tasks, setTasks] = useState([]);
  const [newTask, setNewTask] = useState("");

  const addTask = () => {
    if (newTask.trim() === "") return;
    setTasks([...tasks, { name: newTask, done: false }]);
    setNewTask("");
  };

  const toggleTask = (index) => {
    const updated = [...tasks];
    updated[index].done = !updated[index].done;
    setTasks(updated);
  };

  return (
    <div className="min-h-screen bg-gray-100 p-6">
      <div className="max-w-4xl mx-auto grid gap-6">
        <motion.h1
          className="text-3xl font-bold text-center"
          initial={{ opacity: 0, y: -20 }}
          animate={{ opacity: 1, y: 0 }}
        >
          üìÖ –ú—ñ–π –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫
        </motion.h1>

        {/* –î–∞—à–±–æ—Ä–¥ */}
        <Card className="shadow-md">
          <CardContent className="p-4 grid grid-cols-2 gap-4">
            <div>
              <h2 className="font-semibold text-lg">üìÜ –°—å–æ–≥–æ–¥–Ω—ñ: {new Date().toLocaleDateString("uk-UA")}</h2>
              <p>–ó–∞–≤–¥–∞–Ω—å: {tasks.length}</p>
              <p>–í–∏–∫–æ–Ω–∞–Ω–æ: {tasks.filter((t) => t.done).length}</p>
            </div>
            <div>
              <h2 className="font-semibold text-lg">üí± –ö—É—Ä—Å–∏ –≤–∞–ª—é—Ç (–ø—Ä–∏–∫–ª–∞–¥)</h2>
              <p>USD ‚Üí UAH: 39.50</p>
              <p>EUR ‚Üí UAH: 42.20</p>
            </div>
          </CardContent>
        </Card>

        {/* –î–æ–¥–∞—Ç–∏ –∑–∞–¥–∞—á—É */}
        <Card className="shadow-md">
          <CardContent className="p-4 space-y-4">
            <h2 className="text-xl font-semibold">‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∑–∞–¥–∞—á—É</h2>
            <div className="flex gap-2">
              <Input
                placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ù–∞–ø–∏—Å–∞—Ç–∏ –∑–≤—ñ—Ç"
                value={newTask}
                onChange={(e) => setNewTask(e.target.value)}
              />
              <Button onClick={addTask}>–î–æ–¥–∞—Ç–∏</Button>
            </div>
          </CardContent>
        </Card>

        {/* –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á */}
        <Card className="shadow-md">
          <CardContent className="p-4 space-y-2">
            <h2 className="text-xl font-semibold">üìã –ó–∞–≤–¥–∞–Ω–Ω—è</h2>
            {tasks.length === 0 ? (
              <p className="text-gray-500">–ó–∞–≤–¥–∞–Ω—å —â–µ –Ω–µ–º–∞—î</p>
            ) : (
              tasks.map((task, index) => (
                <div
                  key={index}
                  className="flex justify-between items-center border-b py-2"
                >
                  <span
                    className={`text-sm ${task.done ? "line-through text-gray-400" : ""}`}
                  >
                    {task.name}
                  </span>
                  <Button size="sm" onClick={() => toggleTask(index)}>
                    {task.done ? "‚Ü©Ô∏è –í—ñ–¥–Ω–æ–≤–∏—Ç–∏" : "‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ"}
                  </Button>
                </div>
              ))
            )}
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
